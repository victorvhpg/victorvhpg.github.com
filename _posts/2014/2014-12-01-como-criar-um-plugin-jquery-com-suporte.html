---
layout: post
title: Como criar um plugin jQuery com suporte Asynchronous Module Definition (AMD)
  - requirejs
date: '2014-11-30T22:01:00.000-08:00'
author: Victor Hugo
tags:
- javascript
- amd
- jquery
- requirejs
- dicas
modified_time: '2014-12-02T15:28:50.653-08:00'
thumbnail: http://4.bp.blogspot.com/-3M_nOzpv-g0/VHvtfqqQwlI/AAAAAAAAAzE/6iwy3tjr8qo/s72-c/js2.png
blogger_id: tag:blogger.com,1999:blog-6860482956411468594.post-2885490914205523250
blogger_orig_url: http://victorvhpg.blogspot.com/2014/11/como-criar-um-plugin-jquery-com-suporte.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-3M_nOzpv-g0/VHvtfqqQwlI/AAAAAAAAAzE/6iwy3tjr8qo/s1600/js2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-3M_nOzpv-g0/VHvtfqqQwlI/AAAAAAAAAzE/6iwy3tjr8qo/s320/js2.png" height="200" width="200" /></a></div>Atualmente várias bibliotecas já oferecem suporte à Asynchronous Module Definition (AMD), tornando mais fácil o uso delas&nbsp; em projetos que já adotam este padrão,&nbsp; podemos usá-las sem a necessidade de <a href="http://requirejs.org/docs/api.html#config-shim" target="_blank">configurar</a> (<a href="http://requirejs.org/docs/api.html#config-shim" target="_blank">config-shim</a>) para funcionar.<br />Abaixo algumas bibliotecas que oferecem suporte  à  AMD:  <br /><ul><li><a href="https://github.com/nnnick/Chart.js/blob/0a59a3c4dfe9950a06cf239a4d9332c73dcbe6cb/src/Chart.Core.js#L1928" target="_blank">Chart.js </a></li><li><a href="https://github.com/mbostock/d3/blob/48ad44fdeef32b518c6271bb99a9aed376c1a1d6/d3.js#L9231" target="_blank">D3.js&nbsp;</a></li><li><a href="https://github.com/jquery/jquery/blob/10399ddcf8a239acc27bdec9231b996b178224d3/src/exports/amd.js#L19" target="_blank">jQuery</a>&nbsp; </li><li><a href="https://github.com/hammerjs/hammer.js/blob/52d5887386b7ae8aa125ca80facc91023bfac43e/hammer.js#L2453" target="_blank">Hammer.js </a></li><li><a href="https://github.com/ericdrowell/KineticJS/blob/7f853ddc00ce6707231d02ee792ac10849e8cb53/src/Global.js#L398" target="_blank"> KineticJS  </a></li><li><a href="https://github.com/photonstorm/phaser/blob/a6bc859246ca6cab7cd9fd06a8055a99fb6ab8e0/src/Outro.js#L12" target="_blank">Phaser </a></li><li><a href="https://github.com/wellcaffeinated/PhysicsJS/blob/6fae5d28531a9ab08101d2c6edfc17348b9b42f8/src/intro.js#L7" target="_blank">PhysicsJS </a></li><li><a href="https://github.com/GoodBoyDigital/pixi.js/blob/61421d2a30b97a674fd04965cae2e5aca5f3c45e/src/pixi/Outro.js#L10" target="_blank">Pixi.js </a></li><li><a href="https://github.com/DmitryBaranovskiy/raphael/blob/07715d151d8803ee283f6690557349b04625a4d1/dev/raphael.core.js#L11" target="_blank">Raphaël </a></li></ul>Caso você esteja começando agora&nbsp; e nunca ouviu falar de AMD, por favor leia isso antes: <br /><ul><li><a href="https://github.com/amdjs/amdjs-api/blob/master/AMD.md" target="_blank">AMD</a></li><li><a href="http://requirejs.org/docs/api.html" target="_blank">RequireJS</a></li></ul>Para dar suporte a AMD, sua biblioteca apenas deve registrar um modulo sendo ela mesma. Veja um exemplo:  <br /><div data-gist="https://gist.github.com/victorvhpg/88fc079e838e569f59cb"></div>Para criar um plugin jQuery com suporte a AMD nos temos que fazer o mesmo, porém nos temos uma dependência óbvia, a própria jQuery. jQuery já tem suporte a AMD, ela se auto registra com o modulo chamado "jquery", então basta apenas nos colocarmos o modulo "jquery" sendo uma  dependência do nosso plugin. <br /><div data-gist="https://gist.github.com/victorvhpg/84ae66f118e1f588ee62"></div>Caso você deseje  que seu plugin  funcione sem ou com AMD, você deve  fazer uma verificação de suporte AMD, ou seja,  é só fazer um "if" <br /><div data-gist="https://gist.github.com/victorvhpg/6d2df6d9ed5dcade6333"></div>Veja como fica a implementação levando em consideração o suporte AMD ou não:     <br /><div data-gist="https://gist.github.com/victorvhpg/626c806e00c8f3074018"></div>Bom é isso, caso você deseja mais exemplos, algum tempo atrás  eu criei um repositório onde eu implementei algumas estruturas básicas de  plugins jQuery, inclusive publiquei no site oficial da fundação jQuery.<br />abaixo os links:<br /><br /><b>Repositório</b>: <a href="https://github.com/victorvhpg/exemploPlugin" target="_blank">https://github.com/victorvhpg/exemploPlugin</a><br /><b>Site oficial jQuery</b>:  <a href="http://plugins.jquery.com/exemploPlugin/" target="_blank">http://plugins.jquery.com/exemploPlugin/</a>   <br /><br /><br /><br /><br /><script>carregaGist.init();</script> 